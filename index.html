<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Biodata Kosmik</title>
  <style>
    :root{
      --bg: #0d0d1a;
      --bg-panel: #16162b;
      --color: #e1e1ff;
      --accent: #0af;
      --accent2: #f0c;
      --shadow: 0 0 20px rgba(0,170,255,.25);
    }
    [data-theme="light"]{
      --bg: #f0f2ff;
      --bg-panel: #fff;
      --color: #121212;
      --accent: #0066ff;
      --accent2: #ff0062;
      --shadow: 0 8px 32px rgba(0,102,255,.15);
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',sans-serif}
    body{
      background:var(--bg);
      color:var(--color);
      overflow-x:hidden;
      transition:.4s;
    }
    /* === BACKGROUND BINTANG === */
    #starCanvas{
      position:fixed;
      top:0;left:0;
      width:100%;height:100%;
      z-index:-2;
      opacity:.7;
    }
    /* === TOGGLE TEMA === */
    .themeToggle{
      position:fixed;
      top:20px;right:25px;
      width:60px;height:30px;
      background:var(--bg-panel);
      border-radius:30px;
      cursor:pointer;
      box-shadow:var(--shadow);
      transition:.4s;
    }
    .themeToggle::before{
      content:'';
      position:absolute;
      top:3px;left:3px;
      width:24px;height:24px;
      border-radius:50%;
      background:var(--accent);
      transition:.4s;
      transform:translateX(var(--pos,0));
    }
    [data-theme="light"] .themeToggle::before{--pos:30px}
    /* === CARD === */
    .card{
      max-width:420px;
      margin:80px auto 40px;
      background:var(--bg-panel);
      border-radius:20px;
      padding:40px 35px;
      box-shadow:var(--shadow);
      transform:translateY(40px);
      opacity:0;
      animation:fadeUp .8s ease forwards;
    }
    @keyframes fadeUp{
      to{transform:none;opacity:1}
    }
    .avatarWrap{
      position:relative;
      width:140px;height:140px;
      margin:-110px auto 20px;
      border-radius:50%;
      overflow:hidden;
      border:4px solid var(--accent);
      transition:.4s;
    }
    .avatarWrap img{
      width:100%;height:100%;object-fit:cover;
      transition:.4s;
    }
    .avatarWrap:hover{
      transform:scale(1.08) rotate(5deg);
      box-shadow:0 0 30px var(--accent);
    }
    .uploadBtn{
      display:block;
      width:100%;
      margin:15px 0;
      padding:12px;
      border:none;
      border-radius:10px;
      background:var(--accent);
      color:#fff;
      font-weight:600;
      cursor:pointer;
      transition:.3s;
    }
    .uploadBtn:hover{background:var(--accent2)}
    input[type="text"],input[type="email"],input[type="date"]{
      width:100%;
      margin:10px 0;
      padding:12px 15px;
      border:none;
      border-radius:10px;
      background:rgba(255,255,255,.08);
      color:var(--color);
      transition:.3s;
    }
    [data-theme="light"] input{background:rgba(0,0,0,.05)}
    input:focus{outline:none;box-shadow:0 0 0 2px var(--accent)}
    label{font-size:.9rem;margin-top:10px;display:block;opacity:.8}
    .submitBtn{
      width:100%;
      padding:14px;
      margin-top:20px;
      border:none;
      border-radius:10px;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      color:#fff;
      font-size:1rem;
      font-weight:600;
      cursor:pointer;
      transition:.3s;
    }
    .submitBtn:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(0,170,255,.4)}
    /* ===== DRAGGABLE BOX ===== */
    .draggable{
      position:fixed;
      top:30%;left:40%;
      width:140px;height:80px;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-weight:bold;
      cursor:grab;
      user-select:none;
      box-shadow:var(--shadow);
      transition:transform .2s;
      z-index:10;
    }
    .draggable:active{cursor:grabbing;transform:scale(1.1)}
    /* ===== BOTTOM MENU ===== */
    .bottomMenu{
      position:fixed;
      bottom:20px;
      left:20px;
      z-index:999;
    }
    .bottomMenu button{
      padding:10px 16px;
      border:none;
      border-radius:10px;
      background:var(--accent);
      color:#fff;
      cursor:pointer;
      font-weight:600;
      box-shadow:var(--shadow);
    }
    .bottomMenu button:hover{background:var(--accent2)}
    /* ===== SEARCH PANEL ===== */
    .searchPanel{
      position:fixed;
      bottom:70px;
      left:20px;
      display:flex;
      gap:8px;
      align-items:center;
      background:var(--bg-panel);
      padding:10px;
      border-radius:12px;
      box-shadow:var(--shadow);
      transition:.3s;
    }
    .searchPanel.hidden{opacity:0;transform:translateY(10px);pointer-events:none}
    .searchPanel input{
      padding:8px 12px;
      border-radius:8px;
      border:none;
      width:220px;
    }
    .searchPanel button{
      padding:8px 12px;
      border:none;
      border-radius:8px;
      background:var(--accent);
      color:#fff;
      cursor:pointer;
    }
  </style>
</head>
<body data-theme="dark">
  <canvas id="starCanvas"></canvas>
  <div class="themeToggle" onclick="toggleTheme()"></div>

  <!-- ===== FORM BIODATA ===== -->
  <div class="card">
    <div class="avatarWrap">
      <img id="avatarPreview" src="https://i.pravatar.cc/300?img=5" alt="Avatar"/>
    </div>

    <label>Foto Profil</label>
    <input type="file" id="avatarUpload" accept="image/*" class="uploadBtn">

    <label>Nama Lengkap</label>
    <input type="text" id="name" placeholder="Mis. Andromeda Nova">

    <label>Email</label>
    <input type="email" id="email" placeholder="andromeda@galaxy.io">

    <label>Tanggal Lahir</label>
    <input type="date" id="dob">

    <label>Planet Asal</label>
    <input type="text" id="planet" placeholder="Mis. Kepler-452b">

    <button class="submitBtn" onclick="saveProfile()">Simpan Biodata</button>
  </div>

  <!-- ===== HALAMAN BERANDA INTERAKTIF ===== -->
  <div id="draggableBox" class="draggable">
    <span>ü™ê Geser Aku!</span>
  </div>

  <!-- ===== MENU KIRI BAWAH ===== -->
  <div class="bottomMenu">
    <button onclick="toggleSearch()">üîç Cari</button>
  </div>

  <!-- ===== PENCARIAN GOOGLE ===== -->
  <div id="searchPanel" class="searchPanel hidden">
    <input type="text" id="googleSearch" placeholder="Cari di Google..." onkeypress="handleKey(event)"/>
    <button onclick="searchGoogle()">Cari</button>
  </div>

  <script>
    /* === BINTANG === */
    const cvs=document.getElementById('starCanvas');
    const ctx=cvs.getContext('2d');
    let W,H,stars=[];
    function resize(){W=cvs.width=innerWidth;H=cvs.height=innerHeight}
    window.addEventListener('resize',resize);resize();
    class Star{
      constructor(){
        this.x=Math.random()*W;
        this.y=Math.random()*H;
        this.size=Math.random()*1.5;
        this.speed=Math.random()*.05;
      }
      update(){
        this.y+=this.speed;
        if(this.y>H){this.y=0;this.x=Math.random()*W}
      }
      draw(){
        ctx.fillStyle='rgba(255,255,255,'+this.size+')';
        ctx.beginPath();
        ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
        ctx.fill();
      }
    }
    for(let i=0;i<200;i++)stars.push(new Star);
    function animate(){
      ctx.clearRect(0,0,W,H);
      stars.forEach(s=>{s.update();s.draw()});
      requestAnimationFrame(animate);
    }animate();

    /* === TOGGLE TEMA === */
    function toggleTheme(){
      document.body.dataset.theme = document.body.dataset.theme==='dark' ? 'light' : 'dark';
    }

    /* === UPLOAD FOTO === */
    document.getElementById('avatarUpload').addEventListener('change',e=>{
      const file=e.target.files[0];
      if(file){
        const reader=new FileReader();
        reader.onload=ev=>document.getElementById('avatarPreview').src=ev.target.result;
        reader.readAsDataURL(file);
      }
    });

    /* === SIMPAN & LOAD BIODATA === */
    function saveProfile(){
      const data={
        name:document.getElementById('name').value,
        email:document.getElementById('email').value,
        dob:document.getElementById('dob').value,
        planet:document.getElementById('planet').value,
        avatar:document.getElementById('avatarPreview').src
      };
      localStorage.setItem('kosmosProfile',JSON.stringify(data));
      alert('Biodata tersimpan di browser üöÄ');
    }
    window.addEventListener('DOMContentLoaded',()=>{
      const saved=JSON.parse(localStorage.getItem('kosmosProfile')||'{}');
      if(saved.name)document.getElementById('name').value=saved.name;
      if(saved.email)document.getElementById('email').value=saved.email;
      if(saved.dob)document.getElementById('dob').value=saved.dob;
      if(saved.planet)document.getElementById('planet').value=saved.planet;
      if(saved.avatar)document.getElementById('avatarPreview').src=saved.avatar;
    });

    /* ===== DRAGGABLE BOX ===== */
    const box = document.getElementById('draggableBox');
    let isDragging = false, offsetX, offsetY;
    box.addEventListener('mousedown', e => {
      isDragging = true;
      offsetX = e.clientX - box.offsetLeft;
      offsetY = e.clientY - box.offsetTop;
    });
    window.addEventListener('mousemove', e => {
      if (!isDragging) return;
      box.style.left = (e.clientX - offsetX) + 'px';
      box.style.top = (e.clientY - offsetY) + 'px';
    });
    window.addEventListener('mouseup', () => isDragging = false);

    /* ===== TOGGLE & SEARCH ===== */
    function toggleSearch() {
      const panel = document.getElementById('searchPanel');
      panel.classList.toggle('hidden');
    }
    function searchGoogle() {
      const query = document.getElementById('googleSearch').value.trim();
      if (query) {
        window.open(`https://www.google.com/search?q=${encodeURIComponent(query)}`, '_blank');
      }
    }
    function handleKey(e) {
      if (e.key === 'Enter') searchGoogle();
    }
  </script>
</body>
</html>
